sequenceDiagram
    participant Workflow as Data Processing Workflow
    participant SMM as Social Media Manager
    participant Discord as Discord Handler
    participant LinkedIn as LinkedIn Handler
    participant Telegram as Telegram Handler
    participant Twitter as Twitter Handler
    participant DiscordAPI as Discord Webhook
    participant LinkedInAPI as LinkedIn API
    participant TelegramAPI as Telegram Bot API
    participant TwitterAPI as Twitter API v2
    participant Users as Platform Users

    Note over Workflow, TwitterAPI: Social Media Integration Workflow

    %% Workflow initiates social media posting
    Workflow->>+SMM: publishToAll(message, link)
    SMM->>SMM: getEnabledPlatforms()
    
    Note over SMM: Identify configured and enabled platforms
    
    %% Parallel publishing to all platforms
    par Discord Publishing
        SMM->>+Discord: publish(message)
        Discord->>Discord: validateConfiguration()
        Discord->>Discord: Check DISCORD_WEBHOOK_URL
        
        alt Configuration valid
            Discord->>+DiscordAPI: POST webhook with message + link
            DiscordAPI-->>-Discord: HTTP 200 + message ID
            Discord-->>SMM: PublishResult(success: true)
        else Configuration invalid
            Discord-->>SMM: PublishResult(success: false, error)
        end
        
    and LinkedIn Publishing
        SMM->>+LinkedIn: publish(message)
        LinkedIn->>LinkedIn: validateConfiguration()
        LinkedIn->>LinkedIn: Check LinkedIn credentials
        
        alt Configuration valid
            LinkedIn->>LinkedIn: refreshAccessToken() if needed
            LinkedIn->>+LinkedInAPI: POST /v2/shares (message + link)
            LinkedInAPI-->>-LinkedIn: HTTP 201 + share ID
            LinkedIn-->>SMM: PublishResult(success: true)
        else Configuration invalid
            LinkedIn-->>SMM: PublishResult(success: false, error)
        end
        
    and Telegram Publishing
        SMM->>+Telegram: publish(message)
        Telegram->>Telegram: validateConfiguration()
        Telegram->>Telegram: Check TELEGRAM_BOT_TOKEN
        
        alt Configuration valid
            Telegram->>+TelegramAPI: POST /sendMessage
            TelegramAPI-->>-Telegram: HTTP 200 + message details
            Telegram-->>SMM: PublishResult(success: true)
        else Configuration invalid
            Telegram-->>SMM: PublishResult(success: false, error)
        end
        
    and Twitter Publishing
        SMM->>+Twitter: publish(message)
        Twitter->>Twitter: validateConfiguration()
        Twitter->>Twitter: Check Twitter API credentials
        
        alt Configuration valid
            Twitter->>+TwitterAPI: POST /2/tweets (message + link)
            TwitterAPI-->>-Twitter: HTTP 201 + tweet data
            Twitter-->>SMM: PublishResult(success: true)
        else Configuration invalid
            Twitter-->>SMM: PublishResult(success: false, error)
        end
    end

    %% Collect results and return summary
    SMM->>SMM: Collect all platform results
    SMM->>SMM: Calculate success/error counts
    
    Note over SMM: PublishResults: success, results Map, successCount, errorCount
    
    SMM-->>-Workflow: Return PublishResults
    
    %% Platform-specific content delivery to users
    Note over DiscordAPI, TwitterAPI: Content Delivery to Platform Users
    
    DiscordAPI->>Users: Discord message notification
    LinkedInAPI->>Users: LinkedIn post in feed
    TelegramAPI->>Users: Telegram channel message
    TwitterAPI->>Users: Tweet in timeline

    %% Error handling flow
    Note over Workflow, Users: Error Handling and Notifications
    
    alt Publishing errors occurred
        Workflow->>+SMM: Handle failed publishing
        SMM->>Discord: Notify about failed platforms
        Discord->>+DiscordAPI: POST error notification
        DiscordAPI-->>-Discord: Error notification sent
        Discord-->>-SMM: Error notification result
        SMM-->>Workflow: Error handling complete
    end

    %% Health check flow (periodic)
    Note over SMM, TwitterAPI: Platform Health Monitoring
    
    loop Periodic Health Checks
        SMM->>Discord: healthCheck()
        Discord->>DiscordAPI: Test webhook connectivity
        DiscordAPI-->>Discord: Health status
        
        SMM->>LinkedIn: healthCheck()
        LinkedIn->>LinkedInAPI: Validate token/permissions
        LinkedInAPI-->>LinkedIn: Health status
        
        SMM->>Telegram: healthCheck()
        Telegram->>TelegramAPI: Test bot connectivity
        TelegramAPI-->>Telegram: Health status
        
        SMM->>Twitter: healthCheck()
        Twitter->>TwitterAPI: Validate credentials
        TwitterAPI-->>Twitter: Health status
    end